(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{159:function(e,t,a){},160:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),c=a(25),r=a.n(c),i=(a(79),a(49)),l=a(10),o=(a(80),a(14)),d=a(15),u=a(18),h=a(17),j=a(21),b=a(24),m=a.n(b),g={API_URL:"http://poenexus.com/api"},O=new function e(){Object(o.a)(this,e),this.register=function(e){var t=g.API_URL;return m.a.post("".concat(t,"/register"),e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){return e.response}))},this.login=function(e){var t=g.API_URL;return m.a.post("".concat(t,"/login"),e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){return e.response}))},this.updateUserInfo=function(e){var t=g.API_URL;return m.a.post("".concat(t,"/updateUserInfo"),e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){return e.response}))},this.getUserInfo=function(e){var t=g.API_URL;return m.a.post("".concat(t,"/getUserInfo"),e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){return e.response}))},this.getSellData=function(e){var t=g.API_URL;return m.a.post("".concat(t,"/getSellData"),e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){return e.response}))},this.getGameMode=function(){return m.a.get("https://api.pathofexile.com/leagues").then((function(e){return e.data})).catch((function(e){return e.response}))},this.saveSell=function(e){var t=g.API_URL;return m.a.post("".concat(t,"/saveSell"),e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){return e.response}))},this.getBuyData=function(e){var t=g.API_URL;return m.a.post("".concat(t,"/getBuyData"),e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){return e.response}))},this.getPriceChaos=function(){var e=g.API_URL;return m.a.get("".concat(e,"/getPriceChaos")).then((function(e){return e.data})).catch((function(e){return e.response}))},this.saveTransaction=function(e){var t=g.API_URL;return m.a.post("".concat(t,"/saveTransaction"),e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){return e.response}))},this.cancelSellObj=function(e){var t=g.API_URL;return m.a.post("".concat(t,"/cancelSellObj"),e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){return e.response}))},this.acceptObj=function(e){var t=g.API_URL;return m.a.post("".concat(t,"/acceptObj"),e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){return e.response}))}},x=a(165),p=a(164),v=a(162),f=a(166),y=a(163),S=a(13),C=a(12),N=a(4),T=(a(33),a(0)),I=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).handleChange=function(e){s.setState(Object(j.a)({},e.target.name,e.target.value))},s.showHidePwd=function(){s.setState({pwdType:"input"===s.state.pwdType?"password":"input"})},s.handleSubmit=function(e){e.preventDefault(),s.setState({loadingFlag:!0});var t={email:s.state.email,password:s.state.password};O.login(t).then((function(e){s.setState({loadingFlag:!1}),400===e.status?N.b.error(e.data.error,{position:N.b.POSITION.TOP_RIGHT}):(N.b.success("Login success",{position:N.b.POSITION.TOP_RIGHT,autoClose:3e3}),s.setState({email:"",password:"",showModal:!1}),localStorage.setItem("user",JSON.stringify(e.user)),localStorage.setItem("userinfo",JSON.stringify(e.userinfo)),setTimeout((function(){return localStorage.setItem("token",e.token)}),3001),setTimeout((function(){return s.props.history.push("/dashboard")}),3002))})).catch((function(e){console.log("Error:",e)}))},s.logOut=function(){localStorage.clear(),s.props.history.push("/")},s.state={showModal:!1,email:"",password:"",loadingFlag:!1,pwdType:"password"},s}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=localStorage.getItem("user"),a="";return null!==t&&(a=JSON.parse(t).name),Object(T.jsxs)("div",{children:[Object(T.jsx)("nav",{className:"navbar top-navbar col-lg-12 col-12 p-0",children:Object(T.jsxs)("div",{className:"container",children:[Object(T.jsx)("div",{className:"text-center navbar-brand-wrapper d-flex align-items-center justify-content-center",children:Object(T.jsx)("a",{className:"navbar-brand brand-logo",href:"/",children:Object(T.jsx)("img",{src:window.location.origin+"/assets/image/LogoPNG.png",alt:"logo"})})}),null===localStorage.getItem("token")?Object(T.jsx)("div",{style:{marginLeft:"auto"},children:Object(T.jsx)(x.a,{variant:"primary",onClick:function(){return e.setState({showModal:!0})},children:"LOG IN"})}):Object(T.jsxs)("div",{className:"d-flex",style:{marginLeft:"auto"},children:[Object(T.jsx)("h5",{className:"mt-auto mb-auto",style:{marginRight:"1rem"},children:a}),Object(T.jsx)("div",{children:Object(T.jsx)(x.a,{variant:"danger",onClick:this.logOut,children:"LOG OUT"})})]}),Object(T.jsx)("div",{className:"navbar-menu-wrapper d-flex align-items-center justify-content-end",children:Object(T.jsx)("button",{className:"navbar-toggler navbar-toggler-right d-lg-none align-self-center",type:"button","data-toggle":"horizontal-menu-toggle"})})]})}),Object(T.jsxs)(p.a,{show:this.state.showModal,onHide:function(){return e.setState({showModal:!1})},backdrop:"static",children:[Object(T.jsx)(p.a.Header,{children:Object(T.jsx)(p.a.Title,{children:"Login"})}),Object(T.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(T.jsxs)(p.a.Body,{children:[Object(T.jsxs)("div",{className:"form-group mb-3",children:[Object(T.jsx)("label",{children:"Email"}),Object(T.jsxs)(v.a,{children:[Object(T.jsx)(v.a.Append,{children:Object(T.jsx)(v.a.Text,{className:"h-100",children:Object(T.jsx)(C.a,{icon:S.a})})}),Object(T.jsx)(f.a,{type:"email",placeholder:"Email",value:this.state.email,name:"email",onChange:this.handleChange,required:!0})]})]}),Object(T.jsxs)("div",{className:"form-group mb-3",children:[Object(T.jsx)("label",{htmlFor:"password",children:"Password"}),Object(T.jsxs)(v.a,{children:[Object(T.jsx)(v.a.Append,{children:Object(T.jsx)(v.a.Text,{className:"h-100",children:Object(T.jsx)(C.a,{icon:S.g})})}),Object(T.jsx)(f.a,{placeholder:"Password",type:this.state.pwdType,value:this.state.password,id:"password",name:"password",onChange:this.handleChange,required:!0}),Object(T.jsx)(v.a.Append,{onClick:this.showHidePwd,children:Object(T.jsx)(v.a.Text,{className:"h-100",children:"input"===this.state.pwdType?Object(T.jsx)(C.a,{icon:S.c}):Object(T.jsx)(C.a,{icon:S.b})})})]})]})]}),Object(T.jsxs)(p.a.Footer,{children:[Object(T.jsxs)(x.a,{type:"submit",variant:"primary",children:["Login",!0===this.state.loadingFlag?Object(T.jsx)(y.a,{animation:"border"}):""]}),Object(T.jsx)(x.a,{variant:"secondary",onClick:function(){return e.setState({showModal:!1})},children:"Close"})]})]})]}),Object(T.jsx)(N.a,{})]})}}]),a}(s.Component),w=Object(l.e)(I),F=(s.Component,function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={},s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){null!==localStorage.getItem("token")&&this.props.history.push("/dashboard")}},{key:"render",value:function(){return Object(T.jsxs)("div",{children:[Object(T.jsx)(w,{}),Object(T.jsx)("h1",{children:"My old discord is closed, so I created new discord and send you request"}),Object(T.jsx)("h1",{children:"New discord Username is ezio"}),Object(T.jsx)("h1",{children:"and my email is viclory0101@gmail.com"}),Object(T.jsx)("h1",{children:"Waiting your reply"})]})}}]),a}(s.Component)),A=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={},s}return Object(d.a)(a,[{key:"render",value:function(){var e=window.location.pathname.substr(1);return Object(T.jsx)("nav",{className:"bottom-navbar",children:Object(T.jsx)("div",{className:"container",children:Object(T.jsxs)("ul",{className:"nav page-navigation",children:[Object(T.jsx)("li",{className:"nav-item",children:Object(T.jsx)("a",{className:"nav-link",href:"/dashboard",children:Object(T.jsx)("span",{className:"dashboard"===e?"menu-title text-primary":"menu-title",children:"Dashboard"})})}),Object(T.jsx)("li",{className:"nav-item",children:Object(T.jsx)("a",{className:"nav-link",href:"/sell",children:Object(T.jsx)("span",{className:"sell"===e?"menu-title text-primary":"menu-title",children:"Sell"})})}),Object(T.jsx)("li",{className:"nav-item",children:Object(T.jsx)("a",{href:"/buy",className:"nav-link",children:Object(T.jsx)("span",{className:"buy"===e?"menu-title text-primary":"menu-title",children:"Buy"})})}),Object(T.jsx)("li",{className:"nav-item",children:Object(T.jsx)("a",{href:"/security",className:"nav-link",children:Object(T.jsx)("span",{className:"security"===e?"menu-title text-primary":"menu-title",children:"Security"})})})]})})})}}]),a}(s.Component),E=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).handleChange=function(e){s.setState(Object(j.a)({},e.target.name,e.target.value))},s.clickEdit=function(){s.setState({showForm:!0,accountName:JSON.parse(localStorage.getItem("user")).name,email:JSON.parse(localStorage.getItem("user")).email})},s.handleSubmit=function(e){e.preventDefault(),s.setState({loadingFlag:!0});var t={id:JSON.parse(localStorage.getItem("userinfo")).id,accountName:s.state.accountName,email:s.state.email,irlName:s.state.irlName,discordId:s.state.discordId,tradePoint:s.state.tradePoint,ign1:s.state.ign1,ign2:s.state.ign2,ign3:s.state.ign3};O.updateUserInfo(t).then((function(e){s.setState({loadingFlag:!1}),1===e.user&&(N.b.success("User information saved successfully",{position:N.b.POSITION.TOP_RIGHT,autoClose:3e3}),setTimeout((function(){return window.location.reload(!1)}),3001))})).catch((function(e){console.log("Error:",e)}))},s.openEditModal=function(e){console.log("selectedList: ",e),s.setState({selectedList:e,showEdit:!0})},s.openCancelModal=function(e){s.setState({cancelId:e,showCancel:!0})},s.clickCancel=function(){console.log("cancelId: ",s.state.cancelId);var e={id:s.state.cancelId};O.cancelSellObj(e).then((function(e){console.log("res: ",e),"success"===e.status&&(N.b.success("Cancelled successfully!",{position:N.b.POSITION.TOP_RIGHT,autoClose:3e3}),s.setState({showCancel:!1}),setTimeout((function(){return window.location.reload(!1)}),3001))})).catch((function(e){console.log("Error:",e)}))},s.clickAccept=function(e){console.log("list: ",e);var t={sellId:e.sellInfo.id,buyerId:e.buyerId,txId:e.id,rating:10+e.converted};O.acceptObj(t).then((function(e){console.log("res: ",e),"success"===e.status?(N.b.success("Accepted successfully!",{position:N.b.POSITION.TOP_RIGHT,autoClose:3e3}),s.setState({showCancel:!1}),setTimeout((function(){return window.location.reload(!1)}),3001)):(N.b.error("Accepted Failed!",{position:N.b.POSITION.TOP_RIGHT,autoClose:3e3}),s.setState({showCancel:!1}),setTimeout((function(){return window.location.reload(!1)}),3001))})).catch((function(e){console.log("Error:",e)}))},s.state={accountName:"",email:"",irlName:"",discordId:"",tradePoint:0,ign1:"",ign2:"",ign3:"",sellList:[],buyList:[],loadingFlag:!1,showForm:!1,showNoti:!1},s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t={id:JSON.parse(localStorage.getItem("userinfo")).id};O.getUserInfo(t).then((function(t){console.log("res: ",t);for(var a=0,s=0;s<t.rating.length;s++)a+=t.rating[s].rating;console.log("tradePoint: ",a),e.setState({irlName:t.user.irlName,discordId:t.user.discordId,tradePoint:a,ign1:t.user.ign1,ign2:t.user.ign2,ign3:t.user.ign3,sellList:t.sellList,buyList:t.buyList})})).catch((function(e){console.log("Error:",e)}))}},{key:"render",value:function(){JSON.parse(localStorage.getItem("user"));var e=this.state.sellList,t=this.state.buyList;console.log("sellList: ",e),console.log("buyList: ",t);for(var a=0;a<t.length;a++)t[a].sellInfo.available&&0;return Object(T.jsxs)("div",{children:[Object(T.jsx)("h1",{children:"My old discord is closed, so I created new discord and send you request"}),Object(T.jsx)("h1",{children:"New discord Username is ezio"}),Object(T.jsx)("h1",{children:"and my email is viclory0101@gmail.com"}),Object(T.jsx)("h1",{children:"Waiting your reply"})]})}}]),a}(s.Component),P=a(30),U=a(40),k=a.n(U),L=(a(69),a(32)),H=a.n(L),R=(a(71),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).changeService=function(e){s.setState(Object(j.a)({columns:[],products:[]},e.target.name,e.target.value));var t=s.state[e.target.value],a=[],n=[];switch(e.target.value){case"bench":a=[{dataField:"uid",text:"UID",sort:!0},{dataField:"craft",text:"CRAFT",sort:!0},{dataField:"craft2",text:"CRAFT2",sort:!0},{dataField:"cost",text:"COST",sort:!0},{dataField:"unit",text:"UNIT",sort:!0}];for(var c=0;c<t.length;c++)n.push({uid:t[c].UID,craft:t[c].CRAFT,craft2:t[c].CRAFT2,cost:t[c].COST,unit:t[c].UNIT});s.setState({columns:a,products:n,selectedService:e.target.value});break;case"harvest":a=[{dataField:"uid",text:"UID",sort:!0},{dataField:"craft",text:"CRAFT",sort:!0},{dataField:"tag1",text:"TAG1",sort:!0},{dataField:"tag2",text:"TAG2",sort:!0},{dataField:"tag3",text:"TAG3",sort:!0},{dataField:"tag4",text:"TAG4",sort:!0},{dataField:"tag5",text:"TAG5",sort:!0}];for(var r=0;r<t.length;r++)n.push({uid:t[r].UID,craft:t[r].CRAFT,tag1:t[r].TAG1,tag2:t[r].TAG2,tag3:t[r].TAG3,tag4:t[r].TAG4,tag5:t[r].TAG5});s.setState({columns:a,products:n,selectedService:e.target.value});break;case"syndicate":a=[{dataField:"uid",text:"UID",sort:!0},{dataField:"name",text:"NAME",sort:!0},{dataField:"location",text:"LOCATION",sort:!0},{dataField:"rank",text:"RANK",sort:!0},{dataField:"tier",text:"TIER",sort:!0},{dataField:"craft",text:"CRAFT",sort:!0}];for(var i=0;i<t.length;i++)n.push({uid:t[i].UID,name:t[i].NAME,location:t[i].LOCATION,rank:t[i].RANK,tier:t[i].TIER,craft:t[i].CRAFT});s.setState({columns:a,products:n,selectedService:e.target.value})}},s.changeHandle=function(e){"security"===e.target.name&&"Collateral"===e.target.value?s.setState({requireCollat:!0}):"security"===e.target.name&&"Unsecured"===e.target.value&&s.setState({requireCollat:!1}),s.setState(Object(j.a)({},e.target.name,e.target.value))},s.blurPriceC=function(e){""===e.target.value&&s.setState({chaos:0})},s.blurPriceEx=function(e){""===e.target.value&&s.setState({exalted:0})},s.handleSubmit=function(e){e.preventDefault(),s.setState({loadingFlag:!0});var t={userId:JSON.parse(localStorage.getItem("userinfo")).id,mode:s.state.gamemode,type:s.state.service,ign:s.state.ign,security:s.state.security,collat:s.state.collat,objid:s.state.objId,price_c:s.state.chaos,price_ex:s.state.exalted,available:!0};O.saveSell(t).then((function(e){s.setState({loadingFlag:!1}),500===e.status?N.b.error("Error",{position:N.b.POSITION.TOP_RIGHT,autoClose:3e3}):N.b.success("Your Item has been posted for sale!",{position:N.b.POSITION.TOP_RIGHT,autoClose:3e3})})).catch((function(e){console.log("Error:",e)}))},s.state={loading:!0,bench:[],harvest:[],syndicate:[],columns:[],products:[],igns:[],league:"",gamemode:"",service:"",ign:"",security:"",collat:0,requireCollat:!1,chaos:0,exalted:0,objId:null,loadingFlag:!1},s.rowEvent={onClick:function(e,t,a){s.setState({objId:t.uid})}},s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t={userId:JSON.parse(localStorage.getItem("userinfo")).id};O.getSellData(t).then((function(t){e.setState({bench:t.bench,harvest:t.harvest,syndicate:t.syndicate,loading:!1,igns:[t.userinfo.ign1,t.userinfo.ign2,t.userinfo.ign3]})})).catch((function(e){console.log("Error:",e)})),O.getGameMode().then((function(t){for(var a=[],s=0;s<t.length;s++)null!==t[s].endAt&&a.push(t[s]);e.setState({league:a[0].id})})).catch((function(e){console.log("Error:",e)}))}},{key:"render",value:function(){var e=this,t=L.Search.SearchBar,a={mode:"radio",clickToSelect:!0,classes:"select-row",style:function(){return{backgroundColor:"#bfbfbf"}}},s=this.state.igns;return console.log("aaaaaaaaaaaa: ",this.state.chaos),Object(T.jsxs)("div",{children:[Object(T.jsx)(w,{}),Object(T.jsx)(A,{}),Object(T.jsx)("div",{className:"container",children:this.state.loading?Object(T.jsx)("h5",{className:"mt-3",children:"Loading...."}):Object(T.jsxs)("div",{className:"mt-4 mb-5",children:[Object(T.jsx)("h1",{children:"Sell"}),Object(T.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(T.jsxs)("div",{className:"mt-4",children:[Object(T.jsx)("h4",{children:"Game Mode"}),Object(T.jsxs)("div",{className:"div_radio mt-3",children:[Object(T.jsxs)("div",{children:[Object(T.jsx)("input",{type:"radio",id:"Standard-SC",name:"gamemode",value:"Standard-SC",onChange:this.changeHandle,required:!0}),Object(T.jsx)("label",{htmlFor:"Standard-SC",children:"Standard-SC"})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("input",{type:"radio",id:"Standard-HC",name:"gamemode",value:"Standard-HC",required:!0,onChange:this.changeHandle}),Object(T.jsx)("label",{htmlFor:"Standard-HC",children:"Standard-HC"})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("input",{type:"radio",id:"League-SC-"+this.state.league,name:"gamemode",value:"League-SC-"+this.state.league,required:!0,onChange:this.changeHandle}),Object(T.jsxs)("label",{htmlFor:"League-SC-"+this.state.league,children:["League-SC-",this.state.league]})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("input",{type:"radio",id:"League-HC-"+this.state.league,name:"gamemode",value:"League-HC-"+this.state.league,required:!0,onChange:this.changeHandle}),Object(T.jsxs)("label",{htmlFor:"League-HC-"+this.state.league,children:["League-HC-",this.state.league]})]})]})]}),Object(T.jsxs)("div",{className:"mt-4",children:[Object(T.jsx)("h4",{children:"Service Type"}),Object(T.jsxs)("div",{className:"div_radio mt-3",children:[Object(T.jsxs)("div",{children:[Object(T.jsx)("input",{type:"radio",id:"bench",name:"service",value:"bench",onChange:this.changeService,required:!0}),Object(T.jsx)("label",{htmlFor:"bench",children:"Crafting Bench"})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("input",{type:"radio",id:"syndicate",name:"service",value:"syndicate",onChange:this.changeService,required:!0}),Object(T.jsx)("label",{htmlFor:"syndicate",children:"Syndicate"})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("input",{type:"radio",id:"harvest",name:"service",value:"harvest",onChange:this.changeService,required:!0}),Object(T.jsx)("label",{htmlFor:"harvest",children:"Harvest"})]})]})]}),Object(T.jsxs)("div",{className:"mt-4",children:[Object(T.jsx)("h4",{children:"User Options"}),Object(T.jsxs)("div",{className:"div_radio mt-3 d-flex",children:[Object(T.jsx)("p",{className:"mb-0",children:"IGN:"}),Object(T.jsxs)("select",{name:"ign",onChange:this.changeHandle,defaultValue:"",required:!0,children:[Object(T.jsx)("option",{value:"",disabled:!0,children:"Please select"}),s.map((function(e,t){return Object(T.jsx)("option",{value:e,children:e},t)}))]})]})]}),Object(T.jsxs)("div",{className:"mt-4",children:[Object(T.jsx)("h5",{children:"Trade Security"}),Object(T.jsxs)("div",{className:"div_radio mt-3",children:[Object(T.jsxs)("div",{children:[Object(T.jsx)("input",{type:"radio",id:"Unsecured",name:"security",value:"Unsecured",onChange:this.changeHandle,required:!0}),Object(T.jsx)("label",{htmlFor:"Unsecured",children:"Unsecured"})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("input",{type:"radio",id:"Collateral",name:"security",value:"Collateral",onChange:this.changeHandle,required:!0}),Object(T.jsxs)("label",{htmlFor:"Collateral",children:["Provided Collateral:",this.state.requireCollat?Object(T.jsx)("input",{type:"number",name:"collat",onChange:this.changeHandle,required:!0}):Object(T.jsx)("input",{type:"number",name:"collat",disabled:!0}),"Exalteds"]})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("input",{type:"radio",id:"escrow",name:"trade",value:"escrow",disabled:!0}),Object(T.jsxs)("label",{htmlFor:"escrow",children:["Escrow"," ",Object(T.jsx)("span",{className:"text-danger",children:"*You must opt into and fund your Escrow account before using this option."})]})]})]})]}),Object(T.jsxs)("div",{className:"mt-4",children:[Object(T.jsx)("h4",{children:"Sale Object"}),0===this.state.columns.length?Object(T.jsx)("p",{className:"text-danger ml-3",children:"Please select service type"}):Object(T.jsx)("div",{id:this.state.selectedService+"table",className:"ml-3",children:Object(T.jsx)(H.a,{bootstrap4:!0,data:this.state.products,columns:this.state.columns,search:!0,children:function(s){return Object(T.jsxs)("div",{children:[Object(T.jsx)(t,Object(P.a)({},s.searchProps)),Object(T.jsx)("hr",{}),Object(T.jsx)(k.a,Object(P.a)(Object(P.a)({},s.baseProps),{},{keyField:"uid",selectRow:a,hover:!0,striped:!0,condensed:!0,rowEvents:e.rowEvent}))]})}})}),Object(T.jsxs)("div",{className:"div_radio mt-3",children:[Object(T.jsx)("h5",{children:"Price"}),Object(T.jsxs)("div",{className:"mb-3",children:[Object(T.jsx)("input",{type:"number",name:"chaos",value:this.state.chaos,onChange:this.changeHandle,onBlur:this.blurPriceC,required:!0}),Object(T.jsx)("label",{htmlFor:"chaos",children:"Chaos"})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("input",{type:"number",name:"exalted",value:this.state.exalted,onChange:this.changeHandle,onBlur:this.blurPriceEx,required:!0}),Object(T.jsx)("label",{htmlFor:"exalted",children:"Exalted"})]})]})]}),Object(T.jsxs)(x.a,{variant:"success",type:"submit",className:"mt-3",children:["Submit",!0===this.state.loadingFlag?Object(T.jsx)(y.a,{animation:"border"}):""]})]})]})}),Object(T.jsx)(N.a,{})]})}}]),a}(s.Component)),_=null,G=null,q=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).changeService=function(e){s.setState(Object(j.a)({columns:[],products:[]},e.target.name,e.target.value));var t=s.state[e.target.value],a=[],n=[];switch(e.target.value){case"bench":a=[{dataField:"uid",text:"UID",sort:!0},{dataField:"craft",text:"CRAFT",sort:!0},{dataField:"craft2",text:"CRAFT2",sort:!0},{dataField:"cost",text:"COST",sort:!0},{dataField:"unit",text:"UNIT",sort:!0}];for(var c=0;c<t.length;c++)n.push({uid:t[c].UID,craft:t[c].CRAFT,craft2:t[c].CRAFT2,cost:t[c].COST,unit:t[c].UNIT});s.setState({columns:a,products:n,selectedService:e.target.value});break;case"harvest":a=[{dataField:"uid",text:"UID",sort:!0},{dataField:"craft",text:"CRAFT",sort:!0},{dataField:"tag1",text:"TAG1",sort:!0},{dataField:"tag2",text:"TAG2",sort:!0},{dataField:"tag3",text:"TAG3",sort:!0},{dataField:"tag4",text:"TAG4",sort:!0},{dataField:"tag5",text:"TAG5",sort:!0}];for(var r=0;r<t.length;r++)n.push({uid:t[r].UID,craft:t[r].CRAFT,tag1:t[r].TAG1,tag2:t[r].TAG2,tag3:t[r].TAG3,tag4:t[r].TAG4,tag5:t[r].TAG5});s.setState({columns:a,products:n,selectedService:e.target.value});break;case"syndicate":a=[{dataField:"uid",text:"UID",sort:!0},{dataField:"name",text:"NAME",sort:!0},{dataField:"location",text:"LOCATION",sort:!0},{dataField:"rank",text:"RANK",sort:!0},{dataField:"tier",text:"TIER",sort:!0},{dataField:"craft",text:"CRAFT",sort:!0}];for(var i=0;i<t.length;i++)n.push({uid:t[i].UID,name:t[i].NAME,location:t[i].LOCATION,rank:t[i].RANK,tier:t[i].TIER,craft:t[i].CRAFT});s.setState({columns:a,products:n,selectedService:e.target.value})}},s.changeHandle=function(e){"security"===e.target.name&&"Collateral"===e.target.value?s.setState({checkedCollateral:!s.state.checkedCollateral}):"security"===e.target.name&&"Unsecured"===e.target.value?s.setState({checkedUnsecured:!s.state.checkedUnsecured}):"security"===e.target.name&&"Escrow"===e.target.value&&s.setState({checkedEscrow:!s.state.checkedEscrow}),"service"===e.target.name&&s.setState({selectdObjUid:null}),s.setState(Object(j.a)({},e.target.name,e.target.value))},s.handleSubmit=function(e){if(e.preventDefault(),s.setState({loadingFlag:!0}),0===_)s.setState({loadingFlag:!1}),N.b.error("No object available to buy",{position:N.b.POSITION.TOP_RIGHT,autoClose:3e3});else if(G.sort((function(e,t){return e.converted-t.converted})),console.log("FinalSell: ",G),s.state.sellObjs.includes(s.state.selectdObjUid))N.b.error("You are not allowed to purchase your own listings.",{position:N.b.POSITION.TOP_RIGHT,autoClose:3e3}),s.setState({loadingFlag:!1});else{var t={sellObjId:G[0].id,sellUid:s.state.selectdObjUid,sellerId:G[0].userId,sellIgn:G[0].ign,buyerId:JSON.parse(localStorage.getItem("user")).id,buyIgn:s.state.ign,converted:G[0].converted};console.log("payload: ",t),O.saveTransaction(t).then((function(e){s.setState({loadingFlag:!1}),console.log("res: ",e),500===e.status?N.b.error("Error",{position:N.b.POSITION.TOP_RIGHT,autoClose:3e3}):N.b.success("Your Request has been submitted. Seller has been contacted.",{position:N.b.POSITION.TOP_RIGHT,autoClose:!1})})).catch((function(e){console.log("Error:",e)}))}},s.state={loading:!0,bench:[],harvest:[],syndicate:[],sell:[],columns:[],products:[],igns:[],league:"",gamemode:"",priceChaos:null,selectdObjCraft:"",selectdObjUid:null,lowestPrice:null,totalAvailable:null,avgPrice:null,checkedUnsecured:!1,checkedCollateral:!1,checkedEscrow:!1,collat:0,loadingFlag:!1},s.rowEvent={onClick:function(e,t,a){s.setState({selectdObjCraft:t.craft,selectdObjUid:t.uid})}},s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t={userId:JSON.parse(localStorage.getItem("userinfo")).id};O.getBuyData(t).then((function(a){console.log("res: ",a);for(var s=[],n=0;n<a.sell.length;n++)a.sell[n].userId===t.userId&&s.push(a.sell[n].objid);console.log("sellObjs: ",s),e.setState({bench:a.bench,harvest:a.harvest,syndicate:a.syndicate,sell:a.sell,loading:!1,igns:[a.userinfo.ign1,a.userinfo.ign2,a.userinfo.ign3],sellObjs:s})})).catch((function(e){console.log("Error:",e)})),O.getGameMode().then((function(t){for(var a=[],s=0;s<t.length;s++)null!==t[s].endAt&&a.push(t[s]);e.setState({league:a[0].id})})).catch((function(e){console.log("Error:",e)})),O.getPriceChaos().then((function(t){for(var a=t.lines,s=null,n=0;n<a.length;n++)"Exalted Orb"===a[n].currencyTypeName&&(s=a[n].chaosEquivalent);e.setState({priceChaos:s})})).catch((function(e){console.log("Error:",e)}))}},{key:"render",value:function(){var e=this,t=L.Search.SearchBar,a={mode:"radio",clickToSelect:!0,classes:"select-row",style:{background:"#7d7d7d"}},s=this.state.igns,n=null,c=null,r=null;if(!this.state.loading){var i=this.state.sell,l=[];if(this.state.checkedUnsecured)for(var o=0;o<i.length;o++)"Unsecured"===i[o].security&&l.push(i[o]);if(this.state.checkedCollateral){for(var d=0;d<i.length;d++)"Collateral"===i[d].security&&l.push(i[d]);var u=Number(this.state.collat);l=l.filter((function(e){return!("Collateral"===e.security&&e.collat>=u)}))}if(this.state.checkedEscrow)for(var h=0;h<i.length;h++)"Escrow"===i[h].security&&l.push(i[h]);for(var j=[],b=0;b<l.length;b++)l[b].objid===this.state.selectdObjUid&&j.push(l[b]);for(var m=[],g=0;g<j.length;g++)m.push(Number(j[g].price_ex)*this.state.priceChaos+Number(j[g].price_c)),j[g].converted=Number(j[g].price_ex)*this.state.priceChaos+Number(j[g].price_c);if(G=j,c=j.length,console.log("FinalSell: ",G),console.log("convertedArr: ",m),0!==G.length){G.sort((function(e,t){return e.converted>t.converted?1:-1})),console.log("sortresult: ",G),n="0"===G[0].price_c?G[0].price_ex+"Ex":"0"===G[0].price_ex?G[0].price_c+"C ":G[0].price_c+"C "+G[0].price_ex+"Ex";for(var O=0,p=0,v=0;v<G.length;v++)O+=Number(G[v].price_c),p+=Number(G[v].price_ex);r=O/c===0?Number((p/c).toFixed(3))+"Ex":p/c===0?Number((O/c).toFixed(3))+"C ":Number((O/c).toFixed(3))+"C "+Number((p/c).toFixed(3))+"Ex"}}return _=c,Object(T.jsxs)("div",{children:[Object(T.jsx)(w,{}),Object(T.jsx)(A,{}),Object(T.jsx)("div",{className:"container",children:this.state.loading?Object(T.jsx)("h5",{className:"mt-3",children:"Loading...."}):Object(T.jsxs)("div",{className:"mt-4 mb-5",children:[Object(T.jsx)("h1",{children:"Buy"}),Object(T.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(T.jsxs)("div",{className:"row",children:[Object(T.jsxs)("div",{className:"col-md-3",children:[Object(T.jsx)("h4",{children:"Game Mode"}),Object(T.jsxs)("div",{className:"div_radio mt-3",children:[Object(T.jsxs)("div",{children:[Object(T.jsx)("input",{type:"radio",id:"Standard-SC",name:"gamemode",value:"Standard-SC",onChange:this.changeHandle,required:!0,disabled:!0}),Object(T.jsx)("label",{htmlFor:"Standard-SC",children:"Standard-SC"})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("input",{type:"radio",id:"Standard-HC",name:"gamemode",value:"Standard-HC",required:!0,onChange:this.changeHandle,disabled:!0}),Object(T.jsx)("label",{htmlFor:"Standard-HC",children:"Standard-HC"})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("input",{type:"radio",id:"League-SC-"+this.state.league,name:"gamemode",value:"League-SC-"+this.state.league,required:!0,onChange:this.changeHandle,checked:!0}),Object(T.jsxs)("label",{htmlFor:"League-SC-"+this.state.league,children:["League-SC-",this.state.league]})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("input",{type:"radio",id:"League-HC-"+this.state.league,name:"gamemode",value:"League-HC-"+this.state.league,required:!0,onChange:this.changeHandle,disabled:!0}),Object(T.jsxs)("label",{htmlFor:"League-HC-"+this.state.league,children:["League-HC-",this.state.league]})]})]})]}),Object(T.jsxs)("div",{className:"col-md-3",children:[Object(T.jsx)("h4",{children:"Service Type"}),Object(T.jsxs)("div",{className:"div_radio mt-3",children:[Object(T.jsxs)("div",{children:[Object(T.jsx)("input",{type:"radio",id:"bench",name:"service",value:"bench",onChange:this.changeService,required:!0}),Object(T.jsx)("label",{htmlFor:"bench",children:"Crafting Bench"})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("input",{type:"radio",id:"syndicate",name:"service",value:"syndicate",onChange:this.changeService,required:!0}),Object(T.jsx)("label",{htmlFor:"syndicate",children:"Syndicate"})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("input",{type:"radio",id:"harvest",name:"service",value:"harvest",onChange:this.changeService,required:!0}),Object(T.jsx)("label",{htmlFor:"harvest",children:"Harvest"})]})]})]}),Object(T.jsxs)("div",{className:"col-md-6",children:[Object(T.jsx)("h5",{children:"Trade Security"}),Object(T.jsxs)("div",{className:"div_radio mt-3",children:[Object(T.jsxs)("div",{className:"checkbox-group",children:[Object(T.jsx)("input",{type:"checkbox",id:"Unsecured",name:"security",value:"Unsecured",onChange:this.changeHandle}),Object(T.jsx)("label",{htmlFor:"Unsecured",children:"Unsecured"})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("input",{type:"checkbox",id:"Collateral",name:"security",value:"Collateral",onChange:this.changeHandle}),Object(T.jsxs)("label",{htmlFor:"Collateral",children:["MAX Collateral:",Object(T.jsx)("input",{type:"number",name:"collat",value:this.state.collat,onChange:this.changeHandle}),"Exalteds"]})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("input",{type:"checkbox",id:"Escrow",name:"security",value:"Escrow",onChange:this.changeHandle}),Object(T.jsxs)("label",{htmlFor:"Escrow",children:["Escrow"," ",Object(T.jsx)("span",{className:"text-danger",children:"*You must opt into and fund your Escrow account before using this option."})]})]})]})]})]}),Object(T.jsxs)("div",{className:"mt-4",children:[Object(T.jsx)("h4",{children:"Buy Object"}),0===this.state.columns.length?Object(T.jsx)("p",{className:"text-danger ml-3",children:"Please select service type"}):Object(T.jsx)("div",{id:this.state.selectedService+"table",className:"ml-3",children:Object(T.jsx)(H.a,{bootstrap4:!0,data:this.state.products,columns:this.state.columns,search:!0,children:function(s){return Object(T.jsxs)("div",{children:[Object(T.jsx)(t,Object(P.a)({},s.searchProps)),Object(T.jsx)("hr",{}),Object(T.jsx)(k.a,Object(P.a)(Object(P.a)({},s.baseProps),{},{keyField:"uid",selectRow:a,hover:!0,striped:!0,condensed:!0,rowEvents:e.rowEvent}))]})}})}),Object(T.jsxs)("div",{className:"mt-5 ml-3",children:[Object(T.jsxs)("div",{className:"mb-4 d-flex",children:[Object(T.jsxs)("h6",{className:"mt-1",children:["OBJ: ",Object(T.jsx)("span",{children:this.state.selectdObjCraft})]}),c?null:Object(T.jsx)("h4",{className:"ml-3 text-danger",children:"NONE FOUND"})]}),Object(T.jsxs)("div",{className:"row",children:[Object(T.jsx)("div",{className:"col-md-3 mt-5",children:Object(T.jsxs)("h6",{className:"d-flex",children:[Object(T.jsx)("p",{className:"mt-1",children:"Lowest Price: "}),n?Object(T.jsx)("span",{className:"mt-1 ml-3",children:n}):Object(T.jsx)("h5",{className:"mb-0 ml-3 text-danger",children:"N/A"})]})}),Object(T.jsx)("div",{className:"col-md-3 mt-5",children:Object(T.jsxs)("h6",{className:"d-flex",children:[Object(T.jsx)("p",{className:"mt-1",children:"Total Available: "}),c?Object(T.jsx)("span",{className:"mt-1 ml-3",children:c}):Object(T.jsx)("h5",{className:"mb-0 ml-3 text-danger",children:"N/A"})]})}),Object(T.jsx)("div",{className:"col-md-3 mt-5",children:Object(T.jsxs)("h6",{className:"d-flex",children:[Object(T.jsx)("p",{className:"mt-1",children:"AVG Price: "}),r?Object(T.jsx)("span",{className:"mt-1 ml-3",children:r}):Object(T.jsx)("h5",{className:"mb-0 ml-3 text-danger",children:"N/A"})]})}),Object(T.jsxs)("div",{className:"col-md-3",children:[Object(T.jsx)("h5",{className:"mb-4 poeninja",children:"POE.ninja"}),Object(T.jsxs)("h6",{className:"d-flex mt-1",children:[Object(T.jsx)("p",{children:"1Ex: "}),Object(T.jsx)("p",{className:"mb-0 ml-3",children:this.state.priceChaos})]})]})]})]})]}),Object(T.jsxs)("div",{className:"mt-4",children:[Object(T.jsx)("h4",{children:"User Options"}),Object(T.jsxs)("div",{className:"div_radio mt-3 d-flex",children:[Object(T.jsx)("p",{className:"mb-0",children:"IGN:"}),Object(T.jsxs)("select",{name:"ign",onChange:this.changeHandle,defaultValue:"",required:!0,children:[Object(T.jsx)("option",{value:"",disabled:!0,children:"Please select"}),s.map((function(e,t){return Object(T.jsx)("option",{value:e,children:e},t)}))]})]})]}),Object(T.jsxs)(x.a,{variant:"success",type:"submit",className:"mt-3",children:["Submit",!0===this.state.loadingFlag?Object(T.jsx)(y.a,{animation:"border"}):""]})]})]})}),Object(T.jsx)(N.a,{})]})}}]),a}(s.Component),M=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={},s}return Object(d.a)(a,[{key:"render",value:function(){return Object(T.jsxs)("div",{children:[Object(T.jsx)(w,{}),Object(T.jsx)(A,{}),Object(T.jsx)("div",{className:"container",children:Object(T.jsxs)("div",{className:"mt-4 mb-5",children:[Object(T.jsx)("h1",{children:"Security"}),Object(T.jsxs)("div",{children:[Object(T.jsx)("p",{className:"mt-4",children:"POEnexus will be offering 3 types of trade security to begin with:"}),Object(T.jsxs)("ul",{children:[Object(T.jsx)("li",{children:"Trader Rating"}),Object(T.jsx)("li",{children:"Unsecured"}),Object(T.jsx)("li",{children:"Escrow"})]}),Object(T.jsx)("h3",{children:"Trader Rating:"}),Object(T.jsxs)("p",{className:"mt-3",children:["Is the rating system built into the site trade system. All trades will garner trader-rating points for any user of the site. ",Object(T.jsx)("br",{}),"User ratings will be visible at time of purchase, and positive feedback from a trade will be automatically added to a user, once a trade is confirmed. ",Object(T.jsx)("br",{}),"As users accumulate positive trader-rating points, they qualify for Trader Rep Tiers tiers:"]}),Object(T.jsxs)("ul",{children:[Object(T.jsxs)("li",{children:["Corrupted: denotes a trader rating"," ",Object(T.jsx)(C.a,{icon:S.e,className:"mr-2"})," 0 Avoid trading with these individuals. Collateral Escrow Multiplier: 0"]}),Object(T.jsxs)("li",{children:["Tier I: denotes a trader rating"," ",Object(T.jsx)(C.a,{icon:S.f})," 2499. All new users start at this tier. Collateral Escrow Multiplier:: 1"]}),Object(T.jsx)("li",{children:"Tier II: denotes a trader rating 2500 to 4999. This user has performed dozens of successful trades using the system. Collateral Escrow Multiplier:: 1.5"}),Object(T.jsx)("li",{children:"Tier III: denotes a trader rating 5000 to 9999. These users are avid, trustworthy traders on the platform. Collateral Escrow Multiplier: 2.0"}),Object(T.jsxs)("li",{children:["Tier IV: denotes a trader rating"," ",Object(T.jsx)(C.a,{icon:S.d})," 10000. These are the bet traders on the platform, and have garnered a massive amount of positive trades. Collateral Escrow Multiplier: 3.0 *requires Verified status*"]})]}),Object(T.jsx)("h3",{children:"Unsecured Trades:"}),Object(T.jsx)("p",{className:"mt-3",children:"Will be trades with no required form of trade security; generally used for services that don't require the buyer to hand over expensive items for the service to be performed."}),Object(T.jsx)("h3",{children:"Collateral Escrow System:"}),Object(T.jsxs)("p",{className:"mt-3",children:["Unique to POEnexus will be our Trade Collateral Escrow system. This will provide a much needed means of security for high-value item services, allowing users to search for service posts from user that have provided backing currency and comfortably hand over their items without fear of losing the value of said item to a scam. Users electing to utilize the Escrow system will be able to deposit in-game currency with a POEnexus administrator."," ",Object(T.jsx)("br",{}),"Said deposit amount will be held for a selected amount of time, either 3 or 7 days, after which, it will be returned to said player, less a % service fee.",Object(T.jsx)("br",{}),"Current Fee rates are: 10% (of deposited amount) for 3 day escrow, or 5% (of deposited amount) for 7 day escrow, based on converted Chaos Orb rate from"," ",Object(T.jsx)("a",{href:"https://POE.NINJA",children:Object(T.jsx)("span",{children:"https://POE.NINJA"})})," ","at time of deposit return.",Object(T.jsx)("br",{})]})]})]})})]})}}]),a}(s.Component);var D=function(){return Object(T.jsxs)(i.a,{children:[Object(T.jsx)(l.a,{exact:!0,path:"/",component:F}),Object(T.jsx)(l.a,{exact:!0,path:"/dashboard",component:E}),Object(T.jsx)(l.a,{exact:!0,path:"/sell",component:R}),Object(T.jsx)(l.a,{exact:!0,path:"/buy",component:q}),Object(T.jsx)(l.a,{exact:!0,path:"/security",component:M})]})},J=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,167)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),s(e),n(e),c(e),r(e)}))};a(158),a(159);r.a.render(Object(T.jsx)(n.a.StrictMode,{children:Object(T.jsx)(D,{})}),document.getElementById("root")),J()},79:function(e,t,a){},80:function(e,t,a){}},[[160,1,2]]]);
//# sourceMappingURL=main.833e1f1c.chunk.js.map